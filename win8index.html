<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="x-ua-compatible" content="IE=10">	
</head>
<body onload="onBodyLoad()">

<style>
#contentDiv
{
	display: block;
	z-index: 100;
}
iframe
{
	border: 0px;
	width: 100%;
	height: 100%;
}
</style>

<div id="contentDiv">
<iframe name="preview" id="content" src=""></iframe>
</div>

<script>

	function onBodyLoad()
	{
		resizeIFrame();
		addCallbacks();
	}

	function resizeIFrame()
	{
		var winWidth = window.innerWidth ;
		var winHeight = window.innerHeight ;

		var content = document.getElementById("contentDiv");
		content.width = winWidth;
		content.style.width = winWidth + "px";

		content.height = winHeight;
		content.style.height = winHeight + "px";	

		var iFrameRef = document.getElementById("content");
		iFrameRef.src = "ms-appx-web:///index.html" ;

	}

	function addCallbacks()
	{
		window.addEventListener("message",messageReceived,false);
	}

	function messageReceived(event) 
	{
    	if (event.data)
        {
        	if(event.data.name)
        	{
        		switch(event.data.name)
        		{
        			case "WIN8APPCLOSE":
        				{
        					DoCPExit();
        				}
        				break;
        			default:
        				break;
        		}
        	}
        }                    
    }

	function DoCPExit()
	{
		var win = window.open("","_self");
		win.close();
	}
	
</script>

</body>
</html>